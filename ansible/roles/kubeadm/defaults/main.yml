# defaults/main.yml
---
# Version inherits from k8s_repo_version (e.g., v1.31)
# Package version string used for apt installation
kubeadm_package_version: "{{ k8s_repo_version | replace('v', '') }}.*"

# Taint Configuration
# Set to 'true' to allow workloads on Control Plane (Single-Node Clusters)
# Set to 'false' to keep Taint (Production Multi-Node)
kubeadm_allow_scheduling_on_cp: false

# Kernel Modules required for K8s Networking
kubeadm_kernel_modules:
  - overlay
  - br_netfilter

# Sysctl parameters for bridged networking
kubeadm_sysctl_params:
  net.bridge.bridge-nf-call-iptables: 1
  net.bridge.bridge-nf-call-ip6tables: 1
  net.ipv4.ip_forward: 1
