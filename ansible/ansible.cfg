# ansible/ansible.cfg

# --- [defaults] Section ---
# This section defines the main default behaviors for Ansible.
[defaults]

# This is a huge quality-of-life improvement. By setting the default inventory
# path here, you will no longer need to type '-i ansible/inventory.yml'
# on the command line.
inventory = ../ansible/inventory.yml

# This is the primary fix for the "first-time connection" problem.
# It tells Ansible not to stop and prompt for confirmation.
host_key_checking = false

# This helps Ansible run more efficiently by not creating .retry files
# after failed playbook runs.
retry_files_enabled = false

# Tell Ansible exactly which Python interpreter to use by default.
interpreter_python = /usr/bin/python3


# --- [ssh_connection] Section ---
# This section fine-tunes the behavior of SSH connections.
[ssh_connection]

# This is the robust fix for the "changed host key" problem.
# It tells the underlying ssh command to use a null known_hosts file,
# effectively ignoring and never saving any host keys.
ssh_args = -o UserKnownHostsFile=/dev/null